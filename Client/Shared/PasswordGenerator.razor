@page "/hashsalt"
@using SchoolApp.Client.Helpers
@inject NavigationManager Nav

<h3>Test Password Generator</h3>

<p>Click the button to generate hash and salt for the password: <strong>12345</strong></p>

<button class="btn btn-primary" @onclick="Generate">Generate</button>

@if (!string.IsNullOrEmpty(ErrorMessage))
{
    <div class="alert alert-danger mt-3">
        <strong>Error:</strong> @ErrorMessage
    </div>
}
else if (!string.IsNullOrEmpty(Output))
{
    <div class="mt-3">
        <strong>Hash:</strong> @Hash <br />
        <strong>Salt:</strong> @Salt
    </div>
}

@code {
    private string Hash = "";
    private string Salt = "";
    private string Output = "";
    private string ErrorMessage = "";

    private void Generate()
    {
        try
        {
            ErrorMessage = "";
            Output = "";
            Hash = "";
            Salt = "";

            var (hash, salt) = PasswordHelper.HashPassword("12345");

            Hash = hash;
            Salt = salt;
            Output = "Generated!";
        }
        catch (Exception ex)
        {
            ErrorMessage = ex.Message;
        }
    }
}
